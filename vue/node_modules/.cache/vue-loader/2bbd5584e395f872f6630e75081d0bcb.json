{"remainingRequest":"/Users/lianglulu/Documents/hfh/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianglulu/Documents/hfh/vue/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lianglulu/Documents/hfh/vue/src/views/Login.vue","mtime":1585621128916},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9sb2dpbi9Qb3BVcC52dWUnCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2hvd1NlYXJjaDpmYWxzZSwgICAvL3RydWXku6Pooajnn63kv6HnmbvpmYYsIGZhbHNl5Luj6KGo5a+G56CBCiAgICAgICAgICAgIHBob25lOiIiLCAgICAgLy/miYvmnLrlj7csCiAgICAgICAgICAgIGNhcHRjaGE6IiIsICAgLy/pqozor4HnoIEKICAgICAgICAgICAgdXB3ZDonJywgICAgICAgLy/lr4bnoIEKICAgICAgICAgICAgY29tcHV0ZVRpbWU6IDAsCiAgICAgICAgICAgIHRpbWVyOm51bGwsCiAgICAgICAgICAgIHNsb3RzOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBmbGV4OiAxLAogICAgICAgICAgICAgICAgdmFsdWVzOiBbJzIwMTUtMDEnLCAnMjAxNS0wMicsICcyMDE1LTAzJywgJzIwMTUtMDQnLCAnMjAxNS0wNScsICcyMDE1LTA2J10sCiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzbG90MScsCiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdyaWdodCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0KICAgICAgICB9OwogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBQb3B1cAogICAgfSwKICAgIGNvbXB1dGVkOnsKICAgICAgICByaWdodFBob25lKCl7CiAgICAgICAgICAgIHJldHVybiAvXjFbMzQ1Njc4OV1cZHs5fSQvLnRlc3QodGhpcy5waG9uZSk7ICAgIC8v5Yip55So5q2j5YiZ5a+55omL5py65Y+35Yy56YWNCiAgICAgICAgfSwKICAgICAgICBpc0NsaWNrKCl7CiAgICAgICAgICAgIGlmKHRoaXMuc2hvd1NlYXJjaCl7CiAgICAgICAgICAgICAgICAvL+aJi+acuuWPty/pqozor4HnoIEg5piv5ZCm5Li656m6CiAgICAgICAgICAgICAgICBpZighdGhpcy5waG9uZSB8fCAhdGhpcy5jYXB0Y2hhKSByZXR1cm4gdHJ1ZQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIC8v6LSm5Y+3L+WvhueggSDmmK/lkKbkuLrnqboKICAgICAgICAgICAgICAgIGlmKCF0aGlzLnBob25lIHx8ICF0aGlzLnVwd2QpIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0gICAgICAgCiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2hvd0N1c3RvbVBvcHVwQ2xpY2soKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuQ3VzdG9tUG9wdXBSZWYuc2hvd0N1c3RvbSgpOwogICAgICAgIH0sCiAgICAgICAgY2xvc2VyQnV0dG9uKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLkN1c3RvbVBvcHVwUmVmLm1hc2tDbGljaygpOwogICAgICAgIH0sCiAgICAgICAgc2hvd0ltZyAoKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd1NlYXJjaCA9ICEgdGhpcy5zaG93U2VhcmNoOwogICAgICAgIH0sCiAgICAgICAgLy8g6aqM6K+B56CBIOWAkuiuoeaXtjYwcwogICAgICAgIGdldENvZGUoKXsKICAgICAgICAgICAgaWYoIXRoaXMuY29tcHV0ZVRpbWUpewogICAgICAgICAgICAgICAgdGhpcy5jb21wdXRlVGltZSA9IDYwOwogICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXB1dGVUaW1lIC0tOwogICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLmNvbXB1dGVUaW1lIDw9IDApewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOeZu+W9lS/ms6jlhowKICAgICAgICBsb2dpbigpewogICAgICAgICAgICBpZih0aGlzLnNob3dTZWFyY2gpewogICAgICAgICAgICAgICAgLy/nn63kv6HnmbvlvZUKICAgICAgICAgICAgICAgIGlmKCF0aGlzLnJpZ2h0UGhvbmUpewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KCLmiYvmnLrlj7fmoLzlvI/kuI3mraPnoa4iKQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH1lbHNlIGlmKCEvXlxkezZ9JC8udGVzdCh0aGlzLmNhcHRjaGEpKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCgn6aqM6K+B56CB5qC85byP5LiN5q2j56GuJykKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnBvc3QoJy9yZWdpc3RlcicsJ3Bob25lPScgKyB0aGlzLnBob25lICsgJyZ1cHdkPScgKyB0aGlzLnVwd2QpCiAgICAgICAgICAgICAgICAudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgICAgICBpZighcmVzLmRhdGEuY29kZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Vib3guYWxlcnQoJ+eUqOaIt+W3sue7j+WtmOWcqCcsJ+aPkOekuuS/oeaBrycpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2UnLHJlcy5kYXRhLnBob25lKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwaG9uZScscmVzLmRhdGEucGhvbmUpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJywoKT0+e30pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIC8v5a+G56CB55m75b2VCiAgICAgICAgICAgICAgICBpZighdGhpcy5yaWdodFBob25lKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCgi55So5oi35ZCN5qC85byP5LiN5q2j56GuIikKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9ZWxzZSBpZighL15cZHs2LDEyfSQvLnRlc3QodGhpcy51cHdkKSl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoJ+WvhueggeW/hemhu+aYrzZ+MTLkvY0nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuYXhpb3MucG9zdCgnL2xvZ2luJywncGhvbmU9JyArIHRoaXMucGhvbmUgKyAnJnVwd2Q9JyArIHRoaXMudXB3ZCkKICAgICAgICAgICAgICAgIC50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Vib3guYWxlcnQoJ+eUqOaIt+WQjeaIluWvhueggemUmeivrycpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjaGFuZ2UnLHJlcy5kYXRhLnBob25lKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScscmVzLmRhdGEucGhvbmUpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycsKCk9Pnt9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div class=\"main\">\n    <!-- 头部logo -->\n    <div class=\"head\">\n        <img src=\"../assets/logo_white.png\" style=\"width: 40%;\">\n    </div>\n    <div class=\"logGet\">\n        <!-- 输入框 -->\n        <div class=\"lgA\" > \n            <div class=\"DetailsTags\">\n                <mt-cell title=\"国家/地区\" is-link>\n                    <span>中国大陆</span>\n                </mt-cell>\n            </div >\n            <Popup ref=\"CustomPopupRef\">\n                <div slot=\"PoperContent\" class=\"PoperContentView\">\n                    <mt-picker :slots=\"slots\" @change=\"onValuesChange\"></mt-picker> \n                </div>\n            </Popup>\n        </div>\n        <div class=\"lgD\">\n            <input placeholder=\"填写手机号\" maxlength=\"11\" type=\"tel\" v-model=\"phone\">\n        </div>\n        <div class=\"lgD\" v-if=\"showSearch\">\n            <input placeholder=\"填写验证码\" maxlength=\"6\" v-model=\"captcha\">\n            <button :disabled=\"!rightPhone\" :class=\"{right_phone:rightPhone}\" @click.prevent=\"getCode\">{{computeTime>0 ? `(${computeTime}s)已发送` : '获取验证码'}}</button>\n        </div>\n        <div class=\"lgD\" v-else>\n            <input placeholder=\"填写密码\" v-model=\"upwd\" maxlength=\"12\">\n            <button @click=\"showImg\" class=\"right_phone\">忘记密码</button>\n        </div>\n        <div class=\"logC\">\n            <a><mt-button @click=\"login\" :disabled=\"isClick\">登录</mt-button></a>\n        </div>\n        <div class=\"info\"  v-if=\"showSearch\">新用户获取验证码进行注册～</div>\n        <button class=\"info\"  v-else @click=\"showImg\">去注册 &gt;&gt;</button>\n    </div>\n    <div class=\"logWay\">\n        <div class=\"linktitle\">\n            <span>其它方式登录</span>\n        </div>\n        <ul>\n            <li><img src=\"../assets/icon_qq.png\" alt=\"\"></li>\n            <li><img src=\"../assets/icon_weibo.png\" alt=\"\"></li>\n            <li @click=\"showImg\" class=\"showSearch\">\n                <img class=\"header_img\" v-if=\"!showSearch\" src=\"../assets/icon_phone.png\" alt=\"\">\n                <img class=\"header_img\" v-if=\"showSearch\" src=\"../assets/icon_pass.png\" alt=\"\">\n            </li>\n        </ul>\n    </div>\n</div>  \n</template>\n\n<script>\n\nimport Popup from '../components/login/PopUp.vue'\nexport default {\n    data() {\n        return {\n            showSearch:false,   //true代表短信登陆, false代表密码\n            phone:\"\",     //手机号,\n            captcha:\"\",   //验证码\n            upwd:'',       //密码\n            computeTime: 0,\n            timer:null,\n            slots: [\n                {\n                flex: 1,\n                values: ['2015-01', '2015-02', '2015-03', '2015-04', '2015-05', '2015-06'],\n                className: 'slot1',\n                textAlign: 'right'\n                },\n            ]\n        };\n    },\n    components: {\n        Popup\n    },\n    computed:{\n        rightPhone(){\n            return /^1[3456789]\\d{9}$/.test(this.phone);    //利用正则对手机号匹配\n        },\n        isClick(){\n            if(this.showSearch){\n                //手机号/验证码 是否为空\n                if(!this.phone || !this.captcha) return true\n            }else{\n                //账号/密码 是否为空\n                if(!this.phone || !this.upwd) return true\n            }       \n        },\n    },\n    methods: {\n        showCustomPopupClick() {\n            this.$refs.CustomPopupRef.showCustom();\n        },\n        closerButton() {\n            this.$refs.CustomPopupRef.maskClick();\n        },\n        showImg () {\n            this.showSearch = ! this.showSearch;\n        },\n        // 验证码 倒计时60s\n        getCode(){\n            if(!this.computeTime){\n                this.computeTime = 60;\n                this.timer = setInterval(() => {\n                    this.computeTime --;\n                    if( this.computeTime <= 0){\n                        clearInterval(this.timer)\n                    }\n                }, 1000);\n            }\n        },\n        // 登录/注册\n        login(){\n            if(this.showSearch){\n                //短信登录\n                if(!this.rightPhone){\n                    this.$toast(\"手机号格式不正确\")\n                    return;\n                }else if(!/^\\d{6}$/.test(this.captcha)){\n                    this.$toast('验证码格式不正确')\n                    return;\n                }\n                this.axios.post('/register','phone=' + this.phone + '&upwd=' + this.upwd)\n                .then(res=>{\n                    if(!res.data.code){\n                        this.$messagebox.alert('用户已经存在','提示信息');\n                    } else {\n                        this.$store.dispatch('change',res.data.phone);\n                        window.localStorage.setItem('phone',res.data.phone)\n                        this.$router.push('/',()=>{});\n                    }\n                });\n            }else{\n                //密码登录\n                if(!this.rightPhone){\n                    this.$toast(\"用户名格式不正确\")\n                    return;\n                }else if(!/^\\d{6,12}$/.test(this.upwd)){\n                    this.$toast('密码必须是6~12位');\n                }\n                this.axios.post('/login','phone=' + this.phone + '&upwd=' + this.upwd)\n                .then(res=>{\n                    if(res.data.code == 0){\n                        this.$messagebox.alert('用户名或密码错误');\n                    } else {\n                        this.$store.dispatch('change',res.data.phone);\n                        window.localStorage.setItem('username',res.data.phone);\n                        this.$router.push('/',()=>{});\n                    }\n                });\n            }\n        }\n    },\n}\n</script>\n\n<style>\n    body {\n        background-size: 100%;\n        background-repeat: no-repeat;\n        background-position: center center;\n    }\n    .main{\n        width: 100%;\n        height: 100vh;\n        background: url(../assets/login-bg.png) no-repeat;\n        background-size: contain;\n        background-color: #fff;\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n        \n    }\n\n    .head {\n        height: 120px;\n        height: 10.4rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .PoperContentView {\n        height: 12rem;\n        background: #FFFFFF;\n    }\n    .ServiceNoteTitle {\n        height: 12rem;\n        border-bottom: 1px solid #EEEEEE;\n        text-align: center;\n        line-height: 12rem;\n    }\n    .closerButton {\n        position: absolute;\n        right: 10rem;\n    }\n    .logGet {\n        background: #fff;\n        border-radius: 3px;\n        width: 82%;\n        height: 45vh;\n        padding: 0 4%;\n        margin:0 auto;\n        font-size: 14px;\n        box-shadow: 0 1px 4px 0 rgba(0,0,0,0.1);\n        position: relative\n    }\n    .mint-cell-wrapper{font:14px bolder;color:#ff6699;height:3.3rem;}\n    .mint-cell-value{font-size: 14px;color:#666;}\n    .lgD,.logC{\n        border-bottom:1px solid #eee;\n\n    }\n    .mint-cell-title{\n        text-align: left;\n        padding: 0.8rem;\n    }\n    .logGet .lgD input{\n        height: 3.2rem;\n        text-indent: 1.2rem;\n        outline: none;\n        width: 100%;\n        border:0\n    }\n\n    .logGet .lgD input::placeholder{\n        font-size: 14px;\n    }\n    .logGet .lgD button{\n        color: #ffaabb;\n        position: absolute;\n        top: 7.5rem;\n        right: 8%;\n    }\n    .logGet .lgD button.right_phone{\n        color:#ff6699;\n    }\n    .logC{\n        padding-top: 1.4rem;\n    }\n    .logC a button {\n        width: 100%;\n        height: 45px;\n        background-color: #ff6699;\n        color: white;\n        font: 14px bolder;\n        outline: none;\n    }\n    .info{\n        color: #999;\n        font-size: 12px;\n        margin-top: 0.5rem;\n    }\n    .logWay{\n        margin-top: 5.5rem;\n        color:#ff6699;\n        font-size: 14px;\n    }\n    .logWay span::before{\n        content: '';\n        width: 20vw;\n        height: 16px;\n        margin-right: 15px;\n        display: inline-block;\n        vertical-align: middle;\n        background: url(../assets/left_side_line.png) no-repeat;\n        background-size: contain;\n        background-position: right center;\n    }\n    .logWay span::after{\n        content: '';\n        width: 20vw;\n        height: 16px;\n        margin-left: 15px;\n        display: inline-block;\n        vertical-align:middle;\n        background: url(../assets/right_side_line.png) no-repeat;\n        background-size: contain;\n        background-position: left center;\n    }\n    .logWay ul{\n        display: flex;\n        width:80%;\n        margin: 5% 10%;\n        position: relative;\n    }\n    .logWay ul img{\n        width:5vh;\n        margin-left: 50px;\n    }\n    .logWay ul li:nth-child(3),.logWay ul li:nth-child(4){\n        position: absolute;\n        right:50px\n    }\n    .hid{\n        display: none;\n    }\n\n</style>"]}]}