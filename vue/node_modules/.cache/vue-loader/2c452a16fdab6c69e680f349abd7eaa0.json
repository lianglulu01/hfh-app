{"remainingRequest":"/Users/lianglulu/Documents/hfh/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianglulu/Documents/hfh/src/views/Type.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lianglulu/Documents/hfh/src/views/Type.vue","mtime":1583657191919},{"path":"/Users/lianglulu/Documents/hfh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbnB1dEdyb3VwIGZyb20gJy4uL2NvbXBvbmVudHMvdHlwZS9JbnB1dEdyb3VwJyAgIC8v5byV5YWl5bCB6KOF55qE57uE5Lu2CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICBwaG9uZToiIiwgLy/miYvmnLrlj7cKICAgICAgICB2ZXJpZnlDb2RlOiIiLCAvL+mqjOivgeeggQogICAgICAgIGJ0blRpdGxlOiLojrflj5bpqozor4HnoIEiLAogICAgICAgIGRpc2FibGVkOmZhbHNlLCAgLy/mmK/lkKblj6/ngrnlh7sKICAgICAgICBlcnJvcnM6e30sIC8v6aqM6K+B5o+Q56S65L+h5oGvCiAgICB9CiAgfSwKICBjb21wb25lbnRzOnsKICAgIElucHV0R3JvdXAsCiAgfSwKICBtZXRob2RzOnsKICAgIGdldFZlcmlmeUNvZGUoKXsKICAgICAgLy/ojrflj5bpqozor4HnoIEKICAgICAgaWYodGhpcy52YWxpZGF0ZVBob25lKCkpIHsKICAgICAgICB0aGlzLnZhbGlkYXRlQnRuKCkKICAgICAgICAvL+WPkemAgee9kee7nOivt+axggogICAgICAgIC8vIOazqOWGjOiBmuWQiOaVsOaNruaJvuWIsOefreS/oWFwaeacjeWKoe+8jOeUs+ivt+S8muW+l+WIsOS4pOS4qnRwbF9pZOWSjGtleeWAvO+8jOeEtuWQjuWhq+WFpeebuOWvueW6lOeahOWwseihjAogICAgICAgIC8vIOWFt+S9k+i/mOaYr+WSjOS9oOmXqOWQjuerr+i/m+ihjOayn+mAmgogICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9hcGkvcG9zdHMvc21zX3NlbmQnLHsKICAgICAgICAgICAgdHBsX2lkOiAiIiwKICAgICAgICAgICAga2V5OiAiIiwKICAgICAgICAgICAgcGhvbmU6dGhpcy5waG9uZQogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZVBob25lKCl7CiAgICAgIC8v5Yik5pat6L6T5YWl55qE5omL5py65Y+35piv5ZCm5ZCI5rOVCiAgICAgIGlmKCF0aGlzLnBob25lKSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSB7CiAgICAgICAgcGhvbmU6IuaJi+acuuWPt+eggeS4jeiDveS4uuepuiIKICAgICAgfQogICAgICAgIC8vIHJldHVybiBmYWxzZQogICAgICB9IGVsc2UgaWYoIS9eMVszNDU2NzhdXGR7OX0kLy50ZXN0KHRoaXMucGhvbmUpKSB7CiAgICAgICAgdGhpcy5lcnJvcnMgPSB7CiAgICAgICAgcGhvbmU6Iuivt+i+k+WFpeato+ehruaYr+aJi+acuuWPtyIKICAgICAgfQogICAgICAgIC8vIHJldHVybiBmYWxzZQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyb3JzID17fQogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZUJ0bigpewogICAgICAvL+WAkuiuoeaXtgogICAgICBsZXQgdGltZSA9IDYwOwogICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmKHRpbWUgPT0gMCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmJ0blRpdGxlID0gIuiOt+WPlumqjOivgeeggSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5idG5UaXRsZSA9dGltZSArICfnp5LlkI7ph43or5UnOwogICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHRpbWUtLQogICAgICB9CiAgICAgIH0sMTAwMCkKICAgIH0sCiAgICBoYW5kbGVMb2dpbigpIHsKICAgICAgLy/ngrnlh7vlj5HpgIEKICAgICAgdGhpcy5lcnJvcnMgPSB7fTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9wb3N0cy9zbXNfYmFjaycsewogICAgICAgIHBob25lOnRoaXMucGhvbmUsCiAgICAgICAgY29kZTp0aGlzLnZlcmlmeUNvZGUKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VsZV9sb2dpbicsdHJ1ZSkKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgIH0pLmNhdGNoKGVycm9yID0+ewogICAgICAgIC8v6L+U5Zue6ZSZ6K+v5L+h5oGvCiAgICAgICAgdGhpcy5lcnJvcnMgPXsKICAgICAgICAgIGNvZGU6ZXJyb3IucmVzcG9uc2UuZGF0YS5tc2cKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLy/miYvmnLrlj7flkozpqozor4HnoIHpg73kuI3og73kuLrnqboKICAgIGlzQ2xpY2soKXsKICAgICAgaWYoIXRoaXMucGhvbmUgfHwgIXRoaXMudmVyaWZ5Q29kZSkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0gICAgICAgICAgIAogICAgfQogIH0sCn0KIAo="},{"version":3,"sources":["Type.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Type.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"login\">\n        <!-- 手机号 -->\n        <InputGroup\n            type=\"number\"\n            placeholder=\"手机号\"\n            v-model=\"phone\" \n            :btnTitle=\"btnTitle\"\n            :disabled=\"disabled\"\n            :error=\"errors.phone\"\n            @btnClick=\"getVerifyCode\"\n        />\n        <!-- 输入验证码 -->\n        <InputGroup\n            type=\"number\"\n            v-model=\"verifyCode\"\n            placeholder=\"验证码\"\n            :error=\"errors.code\"\n        />\n        <!-- 登录按钮 -->\n    　　　　　　　　\n    <div class=\"login_btn\">\n          <button @click=\"handleLogin\" :disabled=\"isClick\">登录</button>\n     </div>\n  </div>\n</template>\n<script>\nimport InputGroup from '../components/type/InputGroup'   //引入封装的组件\nexport default {\n  data() {\n    return {\n        phone:\"\", //手机号\n        verifyCode:\"\", //验证码\n        btnTitle:\"获取验证码\",\n        disabled:false,  //是否可点击\n        errors:{}, //验证提示信息\n    }\n  },\n  components:{\n    InputGroup,\n  },\n  methods:{\n    getVerifyCode(){\n      //获取验证码\n      if(this.validatePhone()) {\n        this.validateBtn()\n        //发送网络请求\n        // 注册聚合数据找到短信api服务，申请会得到两个tpl_id和key值，然后填入相对应的就行\n        // 具体还是和你门后端进行沟通\n        this.$axios.post('/api/posts/sms_send',{\n            tpl_id: \"\",\n            key: \"\",\n            phone:this.phone\n        }).then(res => {\n            console.log(res)\n        })\n      }\n    },\n    validatePhone(){\n      //判断输入的手机号是否合法\n      if(!this.phone) {\n        this.errors = {\n        phone:\"手机号码不能为空\"\n      }\n        // return false\n      } else if(!/^1[345678]\\d{9}$/.test(this.phone)) {\n        this.errors = {\n        phone:\"请输入正确是手机号\"\n      }\n        // return false\n      } else {\n        this.errors ={}\n        return true\n      }\n    },\n    validateBtn(){\n      //倒计时\n      let time = 60;\n      let timer = setInterval(() => {\n      if(time == 0) {\n        clearInterval(timer);\n        this.disabled = false;\n        this.btnTitle = \"获取验证码\";\n      } else {\n        this.btnTitle =time + '秒后重试';\n        this.disabled = true;\n        time--\n      }\n      },1000)\n    },\n    handleLogin() {\n      //点击发送\n      this.errors = {};\n      this.$axios.post('/api/posts/sms_back',{\n        phone:this.phone,\n        code:this.verifyCode\n      }).then(res => {\n        console.log(res);\n        localStorage.setItem('ele_login',true)\n        this.$router.push('/')\n      }).catch(error =>{\n        //返回错误信息\n        this.errors ={\n          code:error.response.data.msg\n        }\n      })\n    }\n  },\n  computed: {\n    //手机号和验证码都不能为空\n    isClick(){\n      if(!this.phone || !this.verifyCode) {\n        return true\n      } else {\n        return false\n      }           \n    }\n  },\n}\n \n</script>"]}]}