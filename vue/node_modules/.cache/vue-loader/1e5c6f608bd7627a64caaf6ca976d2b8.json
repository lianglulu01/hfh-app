{"remainingRequest":"/Users/lianglulu/Documents/hfh/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lianglulu/Documents/hfh/vue/src/views/Type.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lianglulu/Documents/hfh/vue/src/views/Type.vue","mtime":1585543306845},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lianglulu/Documents/hfh/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbldheTpmYWxzZSwvL3RydWXku6Pooajnn63kv6HnmbvpmYYsIGZhbHNl5Luj6KGo5a+G56CBCiAgICAgIHBob25lOicnLC8v5omL5py65Y+3LAogICAgICBjb21wdXRlVGltZTogMCwKICAgICAgY29kZTonJywvL+mqjOivgeeggQogICAgICB0aW1lcjpudWxsLAogICAgICBzaG93UHdkOmZhbHNlLAogICAgICBjYXB0Y2hhOicnLAogICAgICBwd2Q6JycsCiAgICAgIG5hbWUKICAgIH07CiAgfSwKICBjb21wdXRlZDp7CiAgICByaWdodFBob25lKCl7CiAgICAgIC8v5Yip55So5q2j5YiZ5a+55omL5py65Y+35Yy56YWNCiAgICAgIHJldHVybiAvXjFbMzQ1Njc4OV1cZHs5fSQvLnRlc3QodGhpcy5waG9uZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGdldENvZGUoKXsKICAgICAgaWYoIXRoaXMuY29tcHV0ZVRpbWUpewogICAgICAgIHRoaXMuY29tcHV0ZVRpbWUgPSAzMDsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICB0aGlzLmNvbXB1dGVUaW1lIC0tOwogICAgICAgICAgICBpZiggdGhpcy5jb21wdXRlVGltZSA8PSAwKXsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpCiAgICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfSwKICAgIGxvZ2luKCl7CiAgICAgIC8v55+t5L+h6aqM6K+BCiAgICAgIGlmKHRoaXMubG9naW5XYXkpewogICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJpZ2h0UGhvbmUpOwogICAgICAgIGlmKCF0aGlzLnJpZ2h0UGhvbmUpewogICAgICAgIGFsZXJ0KCfmiYvmnLrlj7fkuI3mraPnoa4nKTsKICAgICAgICAgfWVsc2UgaWYoIS9eXGR7Nn0kLy50ZXN0KHRoaXMuY29kZSkpewogICAgICAgICBhbGVydCgn6aqM6K+B56CB5b+F6aG75pivNuS9jScpCiAgICAgICAgfQogICAgICB9ZWxzZXsKICAgICAgICAvL+WvhueggemqjOivgQogICAgICAgIGlmKCEvXltcdTRFMDAtXHU5RkE1XXsyLDR9JC8udGVzdCh0aGlzLm5hbWUpKXsKICAgICAgICAgICBhbGVydCgn55So5oi35ZCN5b+F6aG75pivMi005Liq5rGJ5a2XJyk7CiAgICAgICAgfWVsc2UgaWYoIS9eXGR7Nn0kLy50ZXN0KHRoaXMucHdkKSl7CiAgICAgICAgICBhbGVydCgn5a+G56CB5b+F6aG75pivNuS9jScpOwogICAgICAgIH1lbHNlIGlmKCF0aGlzLmNhcHRjaGEpewogICAgICAgICAgYWxlcnQoJ+WbvueJh+mqjOivgeeggeS4jeato+ehricpOwogICAgICAgIH0KICAgICAgfQogICAgIAogICAgICBjb25zb2xlLmxvZygxMTEpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Type.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Type.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <!-- <div class=\"login\"> -->\n        <!-- 手机号 -->\n        <!-- <InputGroup\n            type=\"number\"\n            placeholder=\"手机号\"\n            v-model=\"phone\" \n            :btnTitle=\"btnTitle\"\n            :disabled=\"disabled\"\n            :error=\"errors.phone\"\n            @btnClick=\"getVerifyCode\"\n        /> -->\n        <!-- 输入验证码 -->\n        <!-- <InputGroup\n            type=\"number\"\n            v-model=\"verifyCode\"\n            placeholder=\"验证码\"\n            :error=\"errors.code\"\n        /> -->\n        <!-- 登录按钮 -->\n    　　　　　　　　\n          <!-- <button @click=\"handleLogin\" :disabled=\"isClick\">登录</button> -->\n        <!-- </div> -->\n    <!-- </div> -->\n</template>\n<script>\n// import InputGroup from '../components/type/InputGroup'   //引入封装的组件\n// export default {\n//   data() {\n//     return {\n//         phone:\"\", //手机号\n//         verifyCode:\"\", //验证码\n//         btnTitle:\"获取验证码\",\n//         disabled:false,  //是否可点击\n//         errors:{}, //验证提示信息\n//     }\n//   },\n//   components:{\n//     InputGroup,\n//   },\n//   methods:{\n//     getVerifyCode(){\n//       //获取验证码\n//       if(this.validatePhone()) {\n//         this.validateBtn()\n//         //发送网络请求\n//         // 注册聚合数据找到短信api服务，申请会得到两个tpl_id和key值，然后填入相对应的就行\n//         // 具体还是和你门后端进行沟通\n//         this.$axios.post('/api/posts/sms_send',{\n//             tpl_id: \"\",\n//             key: \"\",\n//             phone:this.phone\n//         }).then(res => {\n//             console.log(res)\n//         })\n//       }\n//     },\n//     validatePhone(){\n//       //判断输入的手机号是否合法\n//       if(!this.phone) {\n//         this.errors = {\n//         phone:\"手机号码不能为空\"\n//       }\n//         // return false\n//       } else if(!/^1[345678]\\d{9}$/.test(this.phone)) {\n//         this.errors = {\n//         phone:\"请输入正确是手机号\"\n//       }\n//         // return false\n//       } else {\n//         this.errors ={}\n//         return true\n//       }\n//     },\n//     validateBtn(){\n//       //倒计时\n//       let time = 60;\n//       let timer = setInterval(() => {\n//       if(time == 0) {\n//         clearInterval(timer);\n//         this.disabled = false;\n//         this.btnTitle = \"获取验证码\";\n//       } else {\n//         this.btnTitle =time + '秒后重试';\n//         this.disabled = true;\n//         time--\n//       }\n//       },1000)\n//     },\n//     handleLogin() {\n//       //点击发送\n//       this.errors = {};\n//       this.$axios.post('/api/posts/sms_back',{\n//         phone:this.phone,\n//         code:this.verifyCode\n//       }).then(res => {\n//         console.log(res);\n//         localStorage.setItem('ele_login',true)\n//         this.$router.push('/')\n//       }).catch(error =>{\n//         //返回错误信息\n//         this.errors ={\n//           code:error.response.data.msg\n//         }\n//       })\n//     }\n//   },\n//   computed: {\n//     //手机号和验证码都不能为空\n//     isClick(){\n//       if(!this.phone || !this.verifyCode) {\n//         return true\n//       } else {\n//         return false\n//       }           \n//     }\n//   },\n// }\n \n</script>\n<template>\n  <div class=\"loginContainer\">\n    <div class=\"loginInner\">\n      <div class=\"login_header\">\n        <div class=\"login_logo\">荔枝外卖</div>\n        <div class=\"login_header_title\">\n          <a href=\"javascript:;\" :class=\"{on:loginWay}\" @click=\"loginWay=true\">短信登录</a>\n          <a href=\"javascript:;\" :class=\"{on: !loginWay}\" @click=\"loginWay=false\">密码登录</a>\n        </div>\n      </div>\n      <!-- 内容部分 -->\n      <div class=\"login_content\">\n         <form @submit.prevent=\"login\">\n             <!-- 短信登录 -->\n           <div :class=\"{on: loginWay}\">\n                 <section class=\"login_message\">\n                   <input type=\"tel\" maxlength=\"11\" placeholder=\"手机号\" v-model=\"phone\" />\n                  <button :disabled=\"!rightPhone\" class=\"get_verification\" :class=\"{right_phone:rightPhone}\" @click.prevent=\"getCode\">{{computeTime>0 ? `(${computeTime}s)已发送` : '获取验证码'}}</button>\n                 </section>\n                 <section class=\"login_verification\">\n                     <input type=\"tel\" maxlength=\"8\" placeholder=\"验证码\" v-model=\"code\">\n                 </section>\n                 <section class=\"login_hint\">\n                     温馨提示：未注册荔枝外卖帐号的手机号，登录时将自动注册，且代表已同意\n                      <a href=\"javascript:;\">《用户服务协议》</a>\n                 </section>\n            </div>\n             <!-- 密码登录 -->\n            <div :class=\"{on:!loginWay}\">\n                <section class=\"login_message\">\n                 <input type=\"tel\" maxlength=\"11\" placeholder=\"手机/邮箱/用户名\" v-model=\"name\" />\n                </section>\n                <section class=\"login_verification\">\n                  <input type=\"text\" maxlength=\"8\" placeholder=\"密码\" v-if=\"showPwd\" v-model=\"pwd\"/>\n                  <input type=\"password\" maxlength=\"8\" placeholder=\"密码\" v-else v-model=\"pwd\"/>\n                  <section class=\"switch_button\" :class=\"showPwd ? 'on' : 'off'\" @click=\"showPwd = !showPwd\">\n                      <section class=\"switch_circle\" :class=\"{right : showPwd}\"></section>\n                      <section class=\"switch_text\">{{showPwd ? 'abc' : '....'}}</section>\n                  </section>\n                </section>\n \n                <section class=\"login_message\">\n                      <input type=\"text\" maxlength=\"11\" placeholder=\"验证码\" v-model=\"captcha\">\n                </section>\n \n            </div>\n            <button class=\"login_submit\">登录</button>\n         </form>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped>\n.loginContainer {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\n.loginInner {\n  width: 80%;\n  margin: 0 auto;\n  padding-top: 60px;\n}\n.loginInner .login_header .login_logo {\n  color: #02a774;\n  font-weight: bolder;\n  font-size:40px;\n  text-align:center;\n}\n.login_header .login_header_title{\n  text-align:center;\n  padding-top:40px;\n}\n.login_header_title a{\n  text-decoration: none;\n  font-size:14px;\n  color:#333;\n  padding-bottom:4px;\n}\n.login_header_title a:first-child{\n  margin-right:40px;\n}\n.login_header_title a.on{\n  color :#02a774;\n  font-weight: bolder;\n  border-bottom:2px solid #02a774;\n}\n.login_content form div{\n   display:none;\n}\n.login_content form div.on{\n  display:block;\n}\n.login_content form  input{\n  width:100%;\n  height:100%;\n  border: 1px solid #ddd;\n  border-radius :4px;\n  outline: none;\n  padding-left:10px;\n  box-sizing: border-box;\n \n}\n.login_content form  input:focus{\n   border: 1px solid #02a774;\n}\n.login_message{\n   position:relative;\n   margin-top:16px;\n   height:48px;\n   font-size:14px;\n   background:#fff;\n}\n.login_message .get_verification{\n position:absolute;\n top:50%;\n right:10px;\n transform: translateY(-50%);\n border:none;\n color:#ccc;\n background :transparent;\n font-size:14px;\n}\n.login_message .get_verification.right_phone{\n color:#000;\n}\n.login_hint{\n  color:#999;\n  margin-top:12px;\n  font-size:14px;\n  line-height:20px;\n}\n.login_hint a{\n  text-decoration: none;\n   color :#02a774;\n}\n \n.login_verification{\n  position:relative;\n  margin-top:16px;\n  height:48px;\n  font-size:14px;\n  background:#fff;\n}\n.login_verification .switch_button{\n  border:1px solid #ddd;\n  width:30px;\n  height:16px;\n  position:absolute;\n  top:50%;\n  right:10px;\n  transform: translateY(-50%);\n  border-radius:8px;\n  padding:0 6px;\n  line-height:16px;\n  font-size:12px;\n  transition:  background-color 0.3s;\n  \n}\n.login_verification .switch_button.on{\n   background :#02a774;\n}\n.login_verification .switch_button.off{\n background:#fff;\n}\n.switch_button .switch_circle{\n    background:#fff;\n    border:1px solid #ddd;\n    border-radius:50%;\n    width:16px;\n    height:16px;\n    position:absolute;\n    left:-1px;\n    top:-1px;\n    box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1);\n}\n.switch_button .switch_circle.right{\n  transform :translateX(30px);\n}\n.switch_button  .switch_text{\n   color: #ddd;\n   float:right;\n}\n.login_submit{\n  display:block;\n  width:100%;\n  height:42px;\n  margin-top:30px;\n  background :#4cd96f;\n  border-radius:4px;\n  font-size:16px;\n  line-height:42px;\n  color:#fff;\n  text-align:center;\n  border:none;\n}\n \n</style>\n<script>\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      loginWay:false,//true代表短信登陆, false代表密码\n      phone:'',//手机号,\n      computeTime: 0,\n      code:'',//验证码\n      timer:null,\n      showPwd:false,\n      captcha:'',\n      pwd:'',\n      name\n    };\n  },\n  computed:{\n    rightPhone(){\n      //利用正则对手机号匹配\n      return /^1[3456789]\\d{9}$/.test(this.phone);\n    }\n  },\n  methods:{\n    getCode(){\n      if(!this.computeTime){\n        this.computeTime = 30;\n        this.timer = setInterval(() => {\n            this.computeTime --;\n            if( this.computeTime <= 0){\n              clearInterval(this.timer)\n            }\n        }, 1000);\n      }\n    },\n    login(){\n      //短信验证\n      if(this.loginWay){\n         console.log(this.rightPhone);\n        if(!this.rightPhone){\n        alert('手机号不正确');\n         }else if(!/^\\d{6}$/.test(this.code)){\n         alert('验证码必须是6位')\n        }\n      }else{\n        //密码验证\n        if(!/^[\\u4E00-\\u9FA5]{2,4}$/.test(this.name)){\n           alert('用户名必须是2-4个汉字');\n        }else if(!/^\\d{6}$/.test(this.pwd)){\n          alert('密码必须是6位');\n        }else if(!this.captcha){\n          alert('图片验证码不正确');\n        }\n      }\n     \n      console.log(111);\n    }\n  }\n};\n</script>"]}]}